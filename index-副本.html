<!DOCTYPE html>
<html>
    <head>
        <title>Transportation Game</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <script src="static/js/jquery-3.6.3.min.js"></script>
        <script src="static/js/semantic.js"></script>
        <link rel="stylesheet" type="text/css" href="static/css/semantic.css">

        {% if is_mobile %} 
        <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1"> 
        {% endif %}
    </head>
    <body>

        <!-- 上方的MenuBar 开始 -->
        <div class="ui top horizental inverted huge sidebar menu visible" id="menubar"> 
            <div class="item">Logo</div>    
            <!-- -->
            <div style="direction: rtl; width:100%">
                <div style="width:fit-content; display:flex; direction:ltr">
                    <a class="item" onmousemove="MenuBarItemOver(this)"; onmouseout="MenuBarItemOut(this)"
                        href="/">
                        主页
                    </a>
                    <a class="item" onmousemove="MenuBarItemOver(this)"; onmouseout="MenuBarItemOut(this)"
                        href="/rank">
                        排行榜
                    </a>
                    <a class="item" onmousemove="MenuBarItemOver(this)"; onmouseout="MenuBarItemOut(this)"
                        onclick="login_register()">
                        登录
                    </a>
                    <a class="item" onmousemove="MenuBarItemOver(this)"; onmouseout="MenuBarItemOut(this)"
                        href="/upload">
                        上传结果
                    </a>
                </div>
            </div>
            <script type="text/javascript">
                function MenuBarItemOver(obj) {
                    obj.className = "active item";
                };
                function MenuBarItemOut(obj) {
                    obj.className = "item";
                };
            </script>
        </div>
        <!-- 上方的MenuBar 结束 -->


        <!-- 登录/注册 modal 开始 -->
        <div id="login_register_modal" class="ui modal">
            <div class="ui two item stackable tabs menu">
                <a class="active item" data-tab="login_tab" id="login_tab_mitem" onclick="activeLoginTab();">
                    登录
                </a>
                <a class="item" data-tab="register_tab" id="register_tab_mitem" onclick="activeRegisterTab();">
                    注册
                </a>
            </div>
            <div class="ui active tab" data-tab="login_tab" id="login_tab">
                <div class="ui large form">
                    <div class="ui existing segment">
                        <!-- username -->
                        <div class="field">
                            <div class="ui left input">
                                <input id="login_username" name="username" placeholder="用户名" type="text">
                            </div>
                        </div>

                        <!-- passwd -->
                        <div class="field">
                            <div class="ui left input">
                                <input id="login_password" name="password" type="password">
                            </div>
                        </div>

                        <div class="field">
                            <button class="ui fluid primary button">
                                登录
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ui tab" data-tab="register_tab" id="register_tab">
                <div class="ui large form">
                    <div class="ui existing segment">
                        <!-- username -->
                        <div class="field">
                            <div class="ui left input">
                                <input id="register_username" name="username" placeholder="用户名" type="text">
                            </div>
                        </div>

                        <!-- passwd -->
                        <div class="field">
                            <div class="ui left input">
                                <input id="register_password" name="password" type="password" placeholder="密码">
                            </div>
                        </div>

                        <div class="field">
                            <div class="ui left input">
                                <input id="register_password_confirm" name="password" type="password" placeholder="再次输入密码确认">
                            </div>
                        </div>

                        <div class="field">
                            <div class="ui left input">
                                <input id="register_email" name="username" placeholder="电子邮件" type="text">
                            </div>
                        </div>
                        

                        <div class="field">
                            <button class="ui fluid primary button">
                                注册
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <script type="text/javascript">
                function activeLoginTab() {
                    $("#login_tab").addClass("active");
                    $("#login_tab_mitem").addClass("active");
                    
                    $("#register_tab").removeClass("active");
                    $("#register_tab_mitem").removeClass("active");
                };
                function activeRegisterTab() {
                    $("#register_tab").addClass("active");
                    $("#register_tab_mitem").addClass("active");
                    
                    $("#login_tab").removeClass("active");
                    $("#login_tab_mitem").removeClass("active");
                };
                function login_register() {
                    $("#login_register_modal").modal("show");
                }
            </script>
        </div>
        <!-- 登录/注册 modal 结束 -->

        <!-- 主页内容 开始-->
        <div class="ui main container" id="main_page_container"">
            <div id="main_page_content">

            </div>
            <script type="text/javascript">
                $("#main_page_content").ready(function(){
                    $("#main_page_content").load("/markdown_of_main_page");
                    $("#main_page_content").css("margin-top", $("#menubar").height() * 1.1 );
                });
            </script>
        </div>
        <!-- 主页内容 结束 -->

    </body>
</html>